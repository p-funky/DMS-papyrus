<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" Papyrus- Document Management System Classes DocumentControllerHelperUserControllerHelper Global authorization Global Members &lt;constant&gt; authorization Class to implement authentication middlewares × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Papyrus- Document Management System Classes DocumentControllerHelperUserControllerHelper Global authorization Classes Classes DocumentControllerHelper UserControllerHelper × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" Papyrus- Document Management System Classes DocumentControllerHelperUserControllerHelper Global authorization This Document Management System API contains several end points that allow users to create, retrieve, update and delete documents and users. In addition, users can also have roles assigned to them and documents can also have acess rights. DevelopmentThe application was developed with NodeJS as the server. Express was used for routing. The Postgres database was used with Sequelize as the ORM API ENDPOINTSUsers Request type Endpoint Action POST /users Create a new user GET /users Get all users GET /users/:id Get details of a specific user PUT /users/:id Edit user details DELETE /users/:id Remove a user from storage POST /users/login To log a user in GET /users/:id/documents To get document of a specific user GET /search/users?={} Search for a user Documents Request type Endpoint Action POST /documents Create a new document GET /documents Retrieve all documents GET /documents/:id Retrieve a specific document PUT /documents/:id Update a specific document DELETE /documents/:id Delete a specific document GET /documents?offset=0&amp;limit=10 Pagination for document retrieval GET /search/documents/ Search for documents UsersCreate UsersTo create a new user, make a POST request to /users Request{ &quot;firstName&quot;: &quot;Naruto&quot;, &quot;lastName&quot;: &quot;Uzumaki&quot; &quot;userName&quot;: &quot;Hokage&quot; &quot;email&quot;: &quot;naruto@konoha.com&quot;, &quot;password&quot;:&quot;secret&quot; }Response{ &quot;token&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjE1LCJFbWFpbCI6ImFkYUBnbWFpbC5jb20iLCJSb2xlSWQiOjEsImlhdCI6MTQ5MTIyMTk4NiwiZXhwIjoxNDkxMjU3OTg2fQ.MtqGTyA5q7zrs7pgbKwtsVUqiTyWYcH6KINgnQK8KJA&quot;, &quot;expiresIn&quot;: &quot;2days&quot;, &quot;user&quot;: { &quot;id&quot;: 2, &quot;firstName&quot;: &quot;Naruto&quot;, &quot;lastName&quot;: &quot;Uzumaki&quot;, &quot;userName&quot;: &quot;Hokage&quot;, &quot;email&quot;: &quot;naruto@konoha.com&quot;, &quot;roleId&quot;: 2, &quot;updatedAt&quot;: &quot;2017-06-18T12:19:45.740Z&quot;, &quot;createdAt&quot;: &quot;2017-06-17T12:19:45.740Z&quot; } }Get UsersFetches all users' details, Request Endpoint: GET: /users Optional queries offset (where to start from) &amp;&amp; limit (number of users per page) Requires Authorization header to be setResponse{ &quot;paginationInfo&quot;: { &quot;totalCount&quot;: 24, &quot;currentPage&quot;: 1, &quot;pageCount&quot;: 3, &quot;pageSize&quot;: 8 }, &quot;users&quot;: [ { &quot;id&quot;: 20, &quot;firstName&quot;: &quot;Itachi&quot;, &quot;lastName&quot;: &quot;Uchiha&quot;, &quot;userName&quot;: &quot;Amateratsu&quot;, &quot;email&quot;: &quot;itatchi@konoha.com&quot;, &quot;roleId&quot;: 2, &quot;createdAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, }, { &quot;id&quot;: 22, &quot;firstName&quot;: &quot;Neji&quot;, &quot;lastName&quot;: &quot;Hyuuga&quot;, &quot;userName&quot;: &quot;Hakke&quot;, &quot;email&quot;: &quot;neji@konoha.com&quot;, &quot;roleId&quot;: 2, &quot;createdAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, }, { &quot;id&quot;: 23, &quot;firstName&quot;: &quot;Shikamaru&quot;, &quot;lastName&quot;: &quot;Nara&quot;, &quot;userName&quot;: &quot;Kagemani&quot;, &quot;email&quot;: &quot;shika@konoha.com&quot;, &quot;roleId&quot;: 2, &quot;createdAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, }, { &quot;id&quot;: 25, &quot;firstName&quot;: &quot;Choji&quot;, &quot;lastName&quot;: &quot;Akimichi&quot;, &quot;userName&quot;: &quot;Fatso&quot;, &quot;email&quot;: &quot;choji@konoha.com&quot;, &quot;roleId&quot;: 2, &quot;createdAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, }, { &quot;id&quot;: 26, &quot;firstName&quot;: &quot;Ino&quot;, &quot;lastName&quot;: &quot;Yamanaka&quot;, &quot;userName&quot;: &quot;Mind-control&quot;, &quot;email&quot;: &quot;ino@konoha.com&quot;, &quot;roleId&quot;: 2, &quot;createdAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, }, { &quot;id&quot;: 27, &quot;firstName&quot;: &quot;Kiba&quot;, &quot;lastName&quot;: &quot;Inuzuka&quot;, &quot;userName&quot;: &quot;Akamaru&quot;, &quot;email&quot;: &quot;kiba@konoha.com&quot;, &quot;roleId&quot;: 2, &quot;createdAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, }, { &quot;id&quot;: 30, &quot;firstName&quot;: &quot;Kakashi&quot;, &quot;lastName&quot;: &quot;Hatake&quot;, &quot;userName&quot;: &quot;copy-ninja&quot;, &quot;email&quot;: &quot;kakashi@konoha.com&quot;, &quot;roleId&quot;: 1, &quot;createdAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot; }, { &quot;id&quot;: 31, &quot;firstName&quot;: &quot;Gai&quot;, &quot;lastName&quot;: &quot;Maito&quot;, &quot;userName&quot;: &quot;Greenbeast&quot;, &quot;email&quot;: &quot;gai@konoha.com&quot;, &quot;roleId&quot;: 2, &quot;createdAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot; }, ] } Get A UserRequest Endpoint: GET: /users/:id Requires Authorization header to be setResponse{ &quot;id&quot;: 35, &quot;firstName&quot;: &quot;Rock&quot;, &quot;lastName&quot;: &quot;Lee&quot;, &quot;userName&quot;: &quot;fuzzybrows&quot;, &quot;email&quot;: &quot;rock@konoha.com&quot;, &quot;roleId&quot;: 2, &quot;createdAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot; }Update userRequest Endpoint: PUT: /users/:id Requires Authorization header to be set{ &quot;roleId&quot;: 1 }Response{ &quot;id&quot;: 35, &quot;firstName&quot;: &quot;Rock&quot;, &quot;lastName&quot;: &quot;Lee&quot;, &quot;userName&quot;: &quot;fuzzybrows&quot;, &quot;email&quot;: &quot;rock@konoha.com&quot;, &quot;roleId&quot;: 1, &quot;createdAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-28T01:23:36.614Z&quot; } Delete userRequest Endpoint: DELETE: /users/:id Requires Authorization header to be setResponse { &quot;message&quot;: &quot;User succesfully deleted&quot; }User loginRequest Endpoint: POST: /users/login{ &quot;username&quot;: &quot;ino@konoha.com&quot;, &quot;password&quot;:&quot;secret&quot; } Response{ message: &quot;Login successful&quot;, &quot;token&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjMsIlJvbGVJZCI6MSwiaWF0IjoxNDkyNzczMzc4LCJleHAiOjE0OTI4NTk3Nzh9.6C9u-1ylQOUpTQDVPm0TmIuVmDaP2PMgMxLkP1sjI&quot; }Get user's DocumentRequest Endpoint: GET: /users/:id/documents Requires Authorization header to be set Response{ &quot;documents&quot;: [ { &quot;id&quot;: 2, &quot;title&quot;: &quot;Hello World&quot;, &quot;content&quot;: &quot;My first document&quot;, &quot;accessId&quot;: 1, &quot;OwnerId&quot;: 1 &quot;createdAt&quot;: &quot;2017-05-20T14:36:22.247Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-23T22:47:36.725Z&quot; }, { &quot;id&quot;: 3, &quot;title&quot;: &quot;Olobe&quot;, &quot;content&quot;: &quot;The soup recipe&quot;, &quot;accessId&quot;: 1, &quot;OwnerId&quot;: 1 &quot;createdAt&quot;: &quot;2017-05-20T14:36:22.247Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-23T22:47:36.725Z&quot; }, { &quot;id&quot;: 6, &quot;title&quot;: &quot;Ideal World&quot;, &quot;content&quot;: &quot;Where humans have mutual respect&quot;, &quot;accessId&quot;: 2, &quot;OwnerId&quot;: 1 &quot;createdAt&quot;: &quot;2017-05-20T14:36:22.247Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-23T22:47:36.725Z&quot; }, { &quot;id&quot;: 28, &quot;title&quot;: &quot;Count your blessings&quot;, &quot;content&quot;: &quot;Name them one by one&quot;, &quot;accessId&quot;: 3, &quot;OwnerId&quot;: 1 &quot;createdAt&quot;: &quot;2017-05-20T14:36:22.247Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-23T22:47:36.725Z&quot; }, { &quot;id&quot;: 55, &quot;title&quot;: &quot;War in heaven&quot;, &quot;content&quot;: &quot;As if God is not always in control&quot;, &quot;accessId&quot;: 1, &quot;OwnerId&quot;: 1 &quot;createdAt&quot;: &quot;2017-05-20T14:36:22.247Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-23T22:47:36.725Z&quot; } ], &quot;paginationInfo&quot;: { &quot;totalCount&quot;: 5, &quot;currentPage&quot;: 1, &quot;pageCount&quot;: 1, &quot;pageSize&quot;: 5 } }DOCUMENTSCreate DocumentRequest Endpoint POST /documents Requires Authorization header to be set{ &quot;title&quot;: &quot;Alao akala&quot;, &quot;content&quot;: &quot;Abami eda&quot;, &quot;access&quot;: 1 }Response Body (application/json){ &quot;id&quot;: 55, &quot;title&quot;: &quot;Alao akala&quot;, &quot;content&quot;: &quot;Abami eda&quot;, &quot;accessId&quot;: 1, &quot;OwnerId&quot;: 3 &quot;createdAt&quot;: &quot;2017-05-20T14:36:22.247Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-23T22:47:36.725Z&quot; }Get DocumentsRequest Endpoint GET /documents Optional queries offset (where to start from) &amp;&amp; limit (number of documents per page) Requires Authorization header to be set Response[ { &quot;id&quot;: 55, &quot;title&quot;: &quot;Alao akala&quot;, &quot;content&quot;: &quot;Abami eda&quot;, &quot;accessId&quot;: 1, &quot;OwnerId&quot;: 3 &quot;createdAt&quot;: &quot;2017-05-20T14:36:22.247Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-23T22:47:36.725Z }, { &quot;id&quot;: 2, &quot;title&quot;: &quot;Hello World&quot;, &quot;content&quot;: &quot;My first document&quot;, &quot;accessId&quot;: 1, &quot;OwnerId&quot;: 1 &quot;createdAt&quot;: &quot;2017-05-20T14:36:22.247Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-23T22:47:36.725Z&quot; }, { &quot;id&quot;: 3, &quot;title&quot;: &quot;Olobe&quot;, &quot;content&quot;: &quot;The soup recipe&quot;, &quot;accessId&quot;: 1, &quot;OwnerId&quot;: 1 &quot;createdAt&quot;: &quot;2017-05-20T14:36:22.247Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-23T22:47:36.725Z&quot; }, { &quot;id&quot;: 20, &quot;title&quot;: &quot;Chai&quot;, &quot;content&quot;: &quot;There is God o!&quot;, &quot;accessId&quot;: 1, &quot;OwnerId&quot;: 1 &quot;createdAt&quot;: &quot;2017-05-20T14:36:22.247Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-23T22:47:36.725Z&quot; }, { &quot;id&quot;: 44, &quot;title&quot;: &quot;Adventures of Tin Tin&quot;, &quot;content&quot;: &quot;Billions of blue blistering barnacles&quot;, &quot;access&quot;: 2, &quot;ownerId&quot;: 4, &quot;createdAt&quot;: &quot;2017-04-21T05:31:16.778Z&quot;, &quot;updatedAt&quot;: &quot;2017-04-21T05:31:16.778Z&quot; } ]Get A DocumentRequest Endpoint GET /documents/:id where id is the id of the document Requires Authorization header to be set Response{ &quot;id&quot;: 3, &quot;title&quot;: &quot;Olobe&quot;, &quot;content&quot;: &quot;The soup recipe&quot;, &quot;accessId&quot;: 1, &quot;OwnerId&quot;: 1 &quot;createdAt&quot;: &quot;2017-05-20T14:36:22.247Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-23T22:47:36.725Z&quot; }Update DocumentRequest Endpoint PUT /documents/:id id is the id of the document Requires Authorization header to be set{ &quot;title&quot;: &quot;Cook Book&quot;, }Response{ &quot;id&quot;: 3, &quot;title&quot;: &quot;Cook Book&quot;, &quot;content&quot;: &quot;The soup recipe&quot;, &quot;accessId&quot;: 1, &quot;OwnerId&quot;: 1 &quot;createdAt&quot;: &quot;2017-05-20T14:36:22.247Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-23T22:47:36.725Z&quot; } Delete DocumentRequest Endpoint DELETE /documents/:idid of the document Requires Authorization header to be setResponse{ message: 'Document successfully deleted' } SearchSearch UsersRequest Endpoint GET /search/users?search=ruto Requires Authorization header to be setResponse{ &quot;users&quot;: [ { &quot;id&quot;: 2, &quot;firstName&quot;: &quot;Naruto&quot;, &quot;lastName&quot;: &quot;Uzumaki&quot;, &quot;userName&quot;: &quot;Hokage&quot;, &quot;email&quot;: &quot;naruto@konoha.com&quot;, &quot;roleId&quot;: 2, &quot;updatedAt&quot;: &quot;2017-06-18T12:19:45.740Z&quot;, &quot;createdAt&quot;: &quot;2017-06-17T12:19:45.740Z&quot; }, { &quot;id&quot;: 5, &quot;firstName&quot;: &quot;Boruto&quot;, &quot;lastName&quot;: &quot;Uzumaki&quot;, &quot;userName&quot;: &quot;Hokage&quot;, &quot;email&quot;: &quot;boruto@konoha.com&quot;, &quot;roleId&quot;: 2, &quot;updatedAt&quot;: &quot;2017-06-18T12:19:45.740Z&quot;, &quot;createdAt&quot;: &quot;2017-06-17T12:19:45.740Z&quot; }, { &quot;id&quot;: 2, &quot;firstName&quot;: &quot;Shriek&quot;, &quot;lastName&quot;: &quot;Iminazi&quot;, &quot;userName&quot;: &quot;Rutoka&quot;, &quot;email&quot;: &quot;rutoka@random.com&quot;, &quot;roleId&quot;: 2, &quot;updatedAt&quot;: &quot;2017-06-18T12:19:45.740Z&quot;, &quot;createdAt&quot;: &quot;2017-06-17T12:19:45.740Z&quot; } ], &quot;paginationInfo&quot;: { &quot;totalCount&quot;: 3, &quot;currentPage&quot;: 1, &quot;pageCount&quot;: 1, &quot;pageSize&quot;: 3 } } Search DocumentsRequest Endpoint GET /search/documents?search=ee Requires Authorization header to be setResponse{ &quot;documents&quot;: [ { &quot;id&quot;: 42, &quot;title&quot;: &quot;Black Sheep&quot;, &quot;content&quot;: &quot;Have you any wool?&quot;, &quot;access&quot;: 1, &quot;ownerId&quot;: 4, &quot;createdAt&quot;: &quot;2017-05-21T08:26:02.355Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-28T17:58:26.800Z&quot; }, { &quot;id&quot;: 53, &quot;title&quot;: &quot;Beautiful Lady&quot;, &quot;content&quot;: &quot;Have you seen the girl?&quot;, &quot;access&quot;: 2, &quot;ownerId&quot;: 4, &quot;createdAt&quot;: &quot;2017-05-26T13:30:58.441Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-28T18:13:11.951Z&quot; }, { &quot;id&quot;: 104, &quot;title&quot;: &quot;Weh don sir&quot;, &quot;content&quot;: &quot;Feel fly like a boss&quot;, &quot;access&quot;: 3, &quot;ownerId&quot;: 30 &quot;createdAt&quot;: &quot;2017-05-26T13:31:03.171Z&quot;, &quot;updatedAt&quot;: &quot;2017-05-28T18:33:11.303Z&quot; } ], &quot;paginationInfo&quot;: { &quot;totalCount&quot;: 3, &quot;currentPage&quot;: 1, &quot;pageCount&quot;: 1, &quot;pageSize&quot;: 3 } } × Search results Close "},"DocumentControllerHelper.html":{"id":"DocumentControllerHelper.html","title":"Class: DocumentControllerHelper","body":" Papyrus- Document Management System Classes DocumentControllerHelperUserControllerHelper Global authorization Class: DocumentControllerHelper DocumentControllerHelper new DocumentControllerHelper() This classs contains helpers methids for the document controller Methods &lt;static&gt; extractDocuments(query, res) The method extracts documents from the database Parameters: Name Type Description query object res object Returns: documents Type object &lt;static&gt; getQueryList(req) The method dynamically creates the query for the document list controller Parameters: Name Type Description req object Returns: query Type object &lt;static&gt; getQuerySearch(req) The method dynamically creates the query for the document list controller Parameters: Name Type Description req object Returns: query Type object &lt;static&gt; getUserDocuments(user, res, req, id) This method returns only the documents a user is authorized to view from another user's portfolio Parameters: Name Type Description user object res object the response object req object the request object id object the document owner id Returns: document and/or message Type object &lt;static&gt; listDocuments(document, res, limit, offset) This method checks if there are documents to be shown in the document list controller Parameters: Name Type Description document object res res the response object limit limit offset offset Returns: document and/or message Type object &lt;static&gt; retrieveDocuments(document, res, req) This method returns only the documents a user is authorized to view Parameters: Name Type Description document object res object the response object req object the request object Returns: status and message Type object &lt;static&gt; updateDocument(document, res, req, id) This method updates a document Parameters: Name Type Description document object res object the response object req object the request object id object the request object Returns: document and/or message Type object × Search results Close "},"UserControllerHelper.html":{"id":"UserControllerHelper.html","title":"Class: UserControllerHelper","body":" Papyrus- Document Management System Classes DocumentControllerHelperUserControllerHelper Global authorization Class: UserControllerHelper UserControllerHelper new UserControllerHelper() This classs contains helpers methids for the document controller Methods &lt;static&gt; canDelete(existingUser, id, req, res) The method validates if a user can be deleted from the database Parameters: Name Type Description existingUser object id String req object res object Returns: message Type object &lt;static&gt; canUpdate(existingUser, id, req, res) The method validates if a user can be updated Parameters: Name Type Description existingUser object id String req object res object Returns: message Type object &lt;static&gt; extractUsers(req, res) The method extracts users from the database Parameters: Name Type Description req object res object Returns: users Type object &lt;static&gt; listUsers(user, res, limit, offset) This method checks if there are users to be shown in the user list controller Parameters: Name Type Description user object res res the response object limit limit offset offset Returns: user and/or message Type object × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
